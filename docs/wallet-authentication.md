# Wallet Authentication

## Overview

Users authenticate by signing a message with their Web3 wallet. No passwords required.

## How It Works

1. Client requests an authentication message from `/auth/auth-request`
   - Provides their wallet address
   - Receives a unique message to sign

2. Client signs the message with their wallet (MetaMask, WalletConnect, etc.)

3. Client sends signature to `/auth/verify`
   - Backend verifies the signature matches the wallet address
   - Returns JWT token if valid

4. Client uses JWT token for protected API requests

## API Endpoints

### POST `/auth/auth-request`

- Request Body:
  - `walletAddress` (string): Wallet address requesting authentication message
- Response:
  - `message` (string): Unique message to be signed by the wallet
  - `nonce` (string): Nonce used for signature verification

### POST `/auth/verify`

- Request Body:
  - `walletAddress` (string): Wallet address attempting to authenticate
  - `signature` (string): Signature generated by signing the provided message
- Response:
  - `accessToken` (string): JWT token for authenticated requests
  - `refreshToken` (string, optional): Token for refreshing authentication

## Security Considerations

- Authentication messages are single-use to prevent replay attacks.
- Signatures are validated using the Ethers library to ensure integrity.
- JWT tokens should be stored securely on the client (e.g., HttpOnly cookies).
